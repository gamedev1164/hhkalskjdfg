local a=game:GetService"Players"

local b=a.LocalPlayer
local c=b.Character or b.CharacterAdded:Wait()
local d=c:WaitForChild"HumanoidRootPart"

local e=workspace:WaitForChild"Booths"
local f="Processing_BoothSystem"

local g=true
local h={}
local i=0

local function getAllProcessingBoothSystems()
local j={}
for k,l in ipairs(e:GetDescendants())do
if l.Name==f then
table.insert(j,l)
end
end
return j
end

local function getTouchPartsUnderSystems()
local j=tick()
if j-i<5 and#h>0 then
return h
end

local k={}
local l={}

for m,n in ipairs(getAllProcessingBoothSystems())do
for o,p in ipairs(n:GetDescendants())do
if p:IsA"TouchTransmitter"then
local q=p.Parent
if q and q:IsA"BasePart"and not l[q]then
l[q]=true
table.insert(k,q)
end
end
end
end

h=k
i=j

return k
end

task.spawn(function()
while g do
if c and c.Parent then
local j=getTouchPartsUnderSystems()

for k,l in ipairs(j)do
pcall(function()
if l and l.Parent then
firetouchinterest(d,l,0)
task.wait(0.01)
firetouchinterest(d,l,1)
end
end)
end
end

task.wait(1)
end
end)

b.CharacterAdded:Connect(function(j)
c=j
d=j:WaitForChild"HumanoidRootPart"
h={}
i=0
end)
